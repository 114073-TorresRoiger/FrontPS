<div class="chat-channel-container" *ngIf="channel">
  <!-- Header -->
  <div class="chat-header">
    <div class="chat-avatar">{{ getInitial() }}</div>
    <h3>{{ getChannelName() }}</h3>
  </div>

  <!-- Messages -->
  <div class="message-list">
    <div *ngIf="isLoading" class="loading-messages">
      <div class="spinner"></div>
      <p>Cargando mensajes...</p>
    </div>

    <div *ngFor="let message of messages" class="message-item" [class.own]="message.isOwn">
      <div class="message-avatar">{{ message.userName.charAt(0).toUpperCase() }}</div>
      
      <div class="message-content">
        <div class="message-sender">{{ message.userName }}</div>
        <div class="message-bubble">{{ message.text }}</div>
        <div class="message-time">{{ formatTime(message.createdAt) }}</div>
      </div>
    </div>
  </div>

  <!-- Input -->
  <div class="message-input-container">
    <input
      type="text"
      [(ngModel)]="messageText"
      placeholder="Escribe un mensaje..."
      (keypress)="onKeyPress($event)"
    />
    <button class="btn-send" (click)="sendMessage()" [disabled]="!messageText.trim()">
      âž¤
    </button>
  </div>
</div>

<!-- No Channel Selected -->
<div class="no-channel-selected" *ngIf="!channel">
  <div class="icon">ðŸ’¬</div>
  <p>Selecciona una conversaciÃ³n para comenzar</p>
</div>

<div class="channel-list-container">
  <!-- Header -->
  <div class="channel-list-header">
    <h2>Mensajes</h2>
    <button class="btn-new-chat" (click)="onNewChat()" title="Nueva consulta">
      <span>âž•</span>
    </button>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-state">
    <div class="spinner"></div>
    <p>Cargando conversaciones...</p>
  </div>

  <!-- Channel List -->
  <div *ngIf="!isLoading" class="channels-list">
    <div
      *ngFor="let channel of channels"
      class="channel-item"
      [class.active]="selectedChannelId === channel.id"
      (click)="selectChannel(channel)"
    >
      <div class="channel-avatar">
        {{ getChannelInitial(channel) }}
      </div>
      
      <div class="channel-info">
        <div class="channel-name">
          {{ getChannelName(channel) }}
        </div>
        <div class="channel-preview">
          {{ getChannelPreview(channel) }}
        </div>
      </div>

      <div *ngIf="getUnreadCount(channel) > 0" class="unread-badge">
        {{ getUnreadCount(channel) }}
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="channels.length === 0" class="empty-state">
      <p>No tienes conversaciones</p>
      <button class="btn-start-chat" (click)="onNewChat()">
        Iniciar nueva consulta
      </button>
    </div>
  </div>
</div>
